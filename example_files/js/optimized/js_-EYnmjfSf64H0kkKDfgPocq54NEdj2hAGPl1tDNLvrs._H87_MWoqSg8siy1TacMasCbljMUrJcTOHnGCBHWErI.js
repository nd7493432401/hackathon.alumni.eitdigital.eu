/* Source and licensing information for the line(s) below can be found at http://hackathondigitalumni.docker.localhost:8000/modules/contrib/admin_toolbar/admin_toolbar_search/js/admin_toolbar_search.js. */
(function($,Drupal){'use strict';Drupal.behaviors.adminToolbarSearch={extraFetched:false,attach:function(context){if(context!=document)return;var $self=this;this.links=[];$("#admin-toolbar-search-input").autocomplete({minLength:2,source:function(request,response){var data=$self.handleAutocomplete(request.term);if(!$self.extraFetched&&drupalSettings.adminToolbarSearch.loadExtraLinks){$.getJSON("/admin/admin-toolbar-search",function(data){$(data).each(function(){var item=this;item.label=this.labelRaw+' '+this.value;$self.links.push(item)});$self.extraFetched=true;var results=$self.handleAutocomplete(request.term);response(results)})}else response(data)},open:function(){var zIndex=$('#toolbar-item-administration-tray').css("z-index")+1;$(this).autocomplete('widget').css('z-index',zIndex);return false},select:function(event,ui){if(ui.item.value){location.href=ui.item.value;return false}}}).data("ui-autocomplete")._renderItem=(function(ul,item){ul.addClass('admin-toolbar-search-autocomplete-list');return $("<li>").append('<div>'+item.labelRaw+' <span class="admin-toolbar-search-url">'+item.value+'</span></div>').appendTo(ul)});$(context).find('#admin-toolbar-search-input').once('admin_toolbar_search').each(function(){$(this).focus(function(){Drupal.behaviors.adminToolbarSearch.populateLinks($self)})})},getItemLabel:function(item){var breadcrumbs=[];$(item).parents().each(function(){if($(this).hasClass('menu-item')){var $link=$(this).find('a:first');if($link.length&&!$link.hasClass('admin-toolbar-search-ignore'))breadcrumbs.unshift($link.text())}});return breadcrumbs.join(' > ')},handleAutocomplete:function(term){var $self=this,keywords=term.split(" "),suggestions=[];$self.links.forEach(function(element){var label=element.label.toLowerCase();if(label.indexOf(term.toLowerCase())>=0){suggestions.push(element)}else{var matchCount=0;keywords.forEach(function(keyword){if(label.indexOf(keyword.toLowerCase())>=0)matchCount++});if(matchCount==keywords.length)suggestions.push(element)}});return suggestions},populateLinks:function($self){if($self.links.length===0){var getUrl=window.location,baseUrl=getUrl.protocol+"//"+getUrl.host+"/";$('.toolbar-tray a[data-drupal-link-system-path]').each(function(){if(this.href!==baseUrl){var label=$self.getItemLabel(this);$self.links.push({value:this.href,label:label+' '+this.href,labelRaw:label})}})}}}})(jQuery,Drupal)
/* Source and licensing information for the above line(s) can be found at http://hackathondigitalumni.docker.localhost:8000/modules/contrib/admin_toolbar/admin_toolbar_search/js/admin_toolbar_search.js. */